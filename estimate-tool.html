<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Repair Estimate Tool | ARP Collision Repair</title>
  <meta name="description" content="ARP Collision Repair estimate builder tool." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="estimate-print.css" />
  <!-- jsPDF and autoTable from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
  <a class="skip-link" href="#main" data-i18n="skipToContent">Skip to content</a>

  <header class="site-header">
    <div class="container header-stack">
      <a class="brand brand-centered" href="index.html" aria-label="ARP Collision Repair Home">
        <img class="brand-logo" src="assets/logonew.png" alt="ARP Collision Repair logo" />
      </a>

      <nav class="nav nav-centered" aria-label="Main navigation">
        <a class="nav-link" href="index.html" data-i18n="navHome">Home</a>
        <a class="nav-link" href="services.html" data-i18n="navServices">Services</a>
        <a class="nav-link" href="contact.html" data-i18n="navContact">Contact</a>
      </nav>

      <div class="header-actions header-actions-centered">
        <button id="langToggle" class="btn btn-secondary" type="button" aria-label="Toggle language">
          <span id="langToggleLabel"></span>
        </button>
      </div>
    </div>
  </header>

  <main id="main">
    <section class="page-hero">
      <div class="container">
        <h1>Repair Estimate Tool</h1>
        <p class="lead">Build and download repair estimates.</p>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <!-- Estimate Header / Meta -->
        <div class="tile">
          <h2>Estimate Information</h2>
          <div class="grid grid-2" style="gap: 12px;">
            <label class="field">
              <span>Estimate Date</span>
              <input type="date" id="estimateDate" required />
            </label>
            <label class="field">
              <span>Customer Name</span>
              <input type="text" id="customerName" />
            </label>
            <label class="field">
              <span>Phone (Optional)</span>
              <input type="tel" id="customerPhone" />
            </label>
            <label class="field">
              <span>Vehicle (Year/Make/Model) (Optional)</span>
              <input type="text" id="vehicleInfo" placeholder="e.g., 2020 Toyota Camry" />
            </label>
          </div>
          <label class="field" style="margin-top: 12px;">
            <span>Notes (Optional)</span>
            <textarea id="estimateNotes" rows="3"></textarea>
          </label>
        </div>

        <!-- Labor Section -->
        <div class="tile">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
            <h2 style="margin: 0;">Labor</h2>
            <button type="button" id="addLaborBtn" class="btn btn-secondary">+ Add Labor Line</button>
          </div>
          <div id="laborTable" class="estimate-table">
            <!-- Labor rows will be added here -->
          </div>
        </div>

        <!-- Materials Section -->
        <div class="tile">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
            <h2 style="margin: 0;">Materials</h2>
            <button type="button" id="addMaterialBtn" class="btn btn-secondary">+ Add Material Line</button>
          </div>
          <div id="materialsTable" class="estimate-table">
            <!-- Material rows will be added here -->
          </div>
        </div>

        <!-- Totals -->
        <div class="tile">
          <h2>Totals</h2>
          <div class="info-row">
            <span class="info-label">Labor Subtotal</span>
            <span class="info-value" id="laborSubtotal">$0.00</span>
          </div>
          <div class="info-row">
            <span class="info-label">Materials Subtotal</span>
            <span class="info-value" id="materialsSubtotal">$0.00</span>
          </div>
          <div class="info-row" style="border-top: 2px solid var(--border); padding-top: 12px; margin-top: 8px;">
            <span class="info-label" style="font-weight: 700; font-size: 1.1rem;">Grand Total</span>
            <span class="info-value" id="grandTotal" style="font-weight: 700; font-size: 1.1rem;">$0.00</span>
          </div>
        </div>

        <!-- Actions -->
        <div class="tile">
          <div style="display: flex; gap: 12px; flex-wrap: wrap;">
            <button type="button" id="downloadPdfBtn" class="btn btn-primary">Download PDF</button>
            <button type="button" id="printPdfBtn" class="btn btn-secondary">Print / Save as PDF</button>
            <button type="button" id="logoutBtn" class="btn btn-secondary">Log Out</button>
          </div>
          <p id="pdfError" class="small" role="alert" style="color: var(--accent); margin-top: 12px; display: none;"></p>
        </div>
      </div>
    </section>
  </main>

  <!-- Hidden print area -->
  <div id="printArea" style="display: none;"></div>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-brand">
        <a href="estimate-login.html" aria-label="Estimate Tool Login">
          <img class="footer-logo" src="assets/logonew.png" alt="" />
        </a>
      </div>
      <p class="footer-text" data-i18n="footerTagline">
        Built to help drivers get back on the road with confidence.
      </p>
      <p class="footer-copy" data-i18n="footerCopyright">Â© 2026 ARP Collision Repair</p>
    </div>
  </footer>

  <!-- Mobile bottom navigation -->
  <nav class="bottom-nav" aria-label="Mobile navigation">
    <a class="bottom-nav-link" href="index.html" data-i18n="navHome">Home</a>
    <a class="bottom-nav-link" href="services.html" data-i18n="navServices">Services</a>
    <a class="bottom-nav-link" href="contact.html" data-i18n="navContact">Contact</a>
  </nav>

  <script src="i18n.js"></script>
  <script src="main.js"></script>
  <script src="estimate-tool.js"></script>
</body>
</html>

